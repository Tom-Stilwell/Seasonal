{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./lib/stickman.js","webpack:///./lib/ghosts.js","webpack:///./lib/orb.js","webpack:///./lib/winter.js","webpack:///./lib/spring.js","webpack:///./lib/summer.js","webpack:///./lib/fall.js","webpack:///./lib/seasonal.js","webpack:///./lib/game.js","webpack:///./lib/screenshot.js"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","configurable","enumerable","get","r","value","n","__esModule","object","property","prototype","hasOwnProperty","p","s","Stickman","constructor","ctx","W","H","this","width","height","posX","posY","hit","rightHit","leftHit","topHit","bottomHit","imageSources","images","Array","preloadImages","bindMovements","player","runOffset","runOffset2","jumpOffset","jumpOffset2","startedJumping","draw","bind","keys","left","right","up","down","jumps","wraps","image","length","Image","src","document","addEventListener","event","key","newHeight","spriteOffset","filter","drawImage","update","parseCollisions","checkJump","indexOf","checkWalk","wrap","Ghosts","season","createGhosts","ghosts","x","y","w","h","beginPath","moveTo","lineTo","lineWidth","strokeStyle","stroke","forEach","ghost","rect","fillStyle","fill","Orb","pos","color","radius","save","arc","Math","PI","gradient","createRadialGradient","addColorStop","shadowBlur","shadowColor","restore","winter_Winter","mp","particles","random","angle","getElementById","style","background","orb","particle","cos","sin","spring_Spring","colors","centers","stems","petals","makeFlowers","centersInc","petalsInc","start","slice","point1","point2","point3","stemsInc","done","randomColor","floor","num","center","stem","petal1","petal2","petal3","petal4","maxRadius","maxHeight","maxPoint1","maxPoint2","maxPoint3","push","drawStems","fillRect","closePath","round","makePetal","petal","quadraticCurveTo","drawPetals","petalInc","makeCenter","drawCenters","centerInc","summer_Summer","stickman","maxSuns","suns","smoke","smokes","smoking","drawSuns","sun","drawSmoke","times","shift","fall_Fall","maxDrops","drops","driftX","driftY","flees","drawRain","drop","lineCap","canvasEl","getContext","game","levels","levelType","level","ground","onload","drawGround","run","clearRect","isStickmanColliding","isTouchingOrb","overlapY","overlapX","some","sqrt","pow","weather","bindEvents","e","keyCode","data","getImageData","screenshotCanvas","screenshotCtx","newImage","createImageData","putImageData","setTimeout","muter","unmuter","audio","volume","muted","display","instructions","closer","question","requestAnimationFrame","once"],"mappings":"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","file":"bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n","export default class Stickman {\n  constructor(ctx, W, H) {\n    this.ctx = ctx;\n    this.W = W;\n    this.H = H;\n\n    this.width = 64;\n    this.height = 64;\n    this.posX = W / 2;\n    this.posY = H - 64;\n    this.hit = false;\n    this.rightHit = false;\n    this.leftHit = false;\n    this.topHit = false;\n    this.bottomHit = false;\n\n    this.imageSources = [\n      \"./playerRunRight.png\",\n      \"./playerRunLeft.png\",\n      \"./jumpRight.png\",\n      \"./jumpLeft.png\"\n    ];\n\n    this.images = new Array(4);\n    this.preloadImages();\n\n    this.bindMovements();\n\n    this.player = this.images[0];\n\n    this.runOffset = 0;\n    this.runOffset2 = 0;\n\n    this.jumpOffset = 0;\n    this.jumpOffset2 = 0;\n    this.startedJumping = false;\n\n    this.draw = this.draw.bind(this);\n    this.keys = { left: false, right: false, up: false, down: false };\n\n    this.jumps = 0;\n    this.wraps = 0;\n  }\n\n  preloadImages() {\n    let image;\n    for (let i = 0; i < this.imageSources.length; i++) {\n      image = new Image();\n      image.src = this.imageSources[i];\n      this.images[i] = image;\n    }\n  }\n\n  bindMovements() {\n    document.addEventListener(\"keydown\", event => {\n      switch (event.key) {\n        case \"ArrowUp\":\n          this.keys.up = true;\n          break;\n        case \"ArrowLeft\":\n          this.keys.left = true;\n          break;\n        case \"ArrowRight\":\n          this.keys.right = true;\n          break;\n        case \"ArrowDown\":\n          this.keys.down = true;\n          break;\n        default:\n          break;\n      }\n    });\n\n    document.addEventListener(\"keyup\", event => {\n      switch (event.key) {\n        case \"ArrowUp\":\n          this.keys.up = false;\n          break;\n        case \"ArrowLeft\":\n          this.keys.left = false;\n          break;\n        case \"ArrowRight\":\n          this.keys.right = false;\n          break;\n        case \"ArrowDown\":\n          this.keys.down = false;\n          break;\n        default:\n          break;\n      }\n    });\n  }\n\n  draw(newHeight) {\n    // this.ctx.clearRect(0, 0, this.W, (this.H = this.H - 0.01));\n    this.H = newHeight;\n\n    let spriteOffset = this.keys.up ? this.jumpOffset2 : this.runOffset2;\n    if (this.posY > this.H - 64) this.posY = this.H - 64;\n    if (this.posY < this.H - 64 && !this.bottomHit) this.posY += 10;\n    this.ctx.filter = \"brightness(50%)\";\n    this.ctx.drawImage(\n      this.player,\n      spriteOffset,\n      0,\n      64,\n      64,\n      this.posX,\n      this.posY,\n      this.width,\n      this.height\n    );\n    this.ctx.filter = \"none\";\n    this.update();\n  }\n\n  parseCollisions() {\n    // console.log(this.hit);\n    if (!this.hit) {\n      this.rightHit = false;\n      this.leftHit = false;\n      this.topHit = false;\n      this.bottomHit = false;\n    } else {\n      if (this.bottomHit) {\n        this.rightHit = false;\n        this.leftHit = false;\n      }\n      if (this.rightHit && !this.bottomHit) this.posX -= 2;\n      if (this.leftHit && !this.bottomHit) this.posX += 2;\n      if (this.topHit) this.posY += 10;\n    }\n  }\n\n  checkJump() {\n    if (this.keys.up) {\n      if (this.jumps % 5 === 0) {\n        if (!this.startedJumping) this.jumpOffset = 0;\n        this.jumpOffset += 64;\n        this.jumpOffset = this.jumpOffset % 704;\n        if (this.keys.left || this.player.src.indexOf(\"Left\") > -1)\n          this.player = this.images[3];\n        if (this.keys.right || this.player.src.indexOf(\"Right\") > -1)\n          this.player = this.images[2];\n        this.startedJumping = true;\n      }\n      if (this.jumpOffset >= 256 && this.jumpOffset < 384) {\n        this.posY -= 20;\n      } else if (\n        this.jumpOffset >= 384 &&\n        this.jumpOffset < 512 &&\n        !this.bottomHit\n      ) {\n        this.posY += 10;\n      } else if (this.jumpOffset === 640) {\n        this.startedJumping = false;\n      }\n\n      if (this.player.src.indexOf(\"Right\") > -1) {\n        this.player = this.images[2];\n        this.jumpOffset2 = 640 - this.jumpOffset;\n      } else {\n        this.jumpOffset2 = this.jumpOffset;\n      }\n\n      this.jumps++;\n    } else {\n      if (this.posY < this.H - 64 && !this.bottomHit) this.posY += 20;\n      this.startedJumping = false;\n      this.jumpOffset = 64;\n      this.jumpOffset2 = 64;\n    }\n  }\n\n  checkWalk() {\n    if (this.keys.left && !this.leftHit) {\n      this.posX -= 10;\n      if (!this.keys.up) {\n        this.runOffset += 64;\n        this.runOffset2 = this.runOffset % 320;\n        this.player = this.images[1];\n      } else if (this.jumpOffset < 256) {\n        this.posX += 10;\n      }\n    }\n\n    if (this.keys.right && !this.rightHit) {\n      this.posX += 10;\n      if (!this.keys.up) {\n        this.runOffset += 64;\n        this.runOffset2 = this.runOffset % 320;\n        this.runOffset2 = 256 - this.runOffset2;\n\n        this.player = this.images[0];\n      } else if (this.jumpOffset < 256) {\n        this.posX -= 10;\n      }\n    }\n  }\n\n  wrap() {\n    if (this.posX > this.W) {\n      this.posX = -this.width / 2;\n      this.wraps++;\n    }\n    if (this.posX + this.width / 2 < 0) {\n      this.posX = this.W;\n      this.wraps--;\n    }\n  }\n\n  update() {\n    this.parseCollisions();\n    this.checkJump();\n    this.checkWalk();\n    this.wrap();\n  }\n}\n","export default class Ghosts {\n  constructor(ctx, W, H, season) {\n    this.ctx = ctx;\n\n    this.W = W;\n    this.H = H;\n\n    this.season = season;\n\n    this.createGhosts();\n  }\n\n  createGhosts() {\n    switch (this.season) {\n      case \"winter\":\n        this.ghosts = [\n          { x: this.W / 3, y: this.H - 100, w: 100, h: 100 },\n          { x: this.W / 3 - 150, y: this.H - 200, w: 100, h: 100 },\n          { x: this.W / 3 + 50, y: this.H - 300, w: 100, h: 100 },\n          { x: this.W / 3 + 150, y: this.H - 300, w: 100, h: 100 },\n          { x: this.W / 3 + 250, y: this.H - 300, w: 100, h: 100 }\n        ];\n        break;\n      case \"spring\":\n        this.ghosts = [\n          { x: this.W - 100, y: this.H - 100, w: 100, h: 100 },\n          { x: this.W - 300, y: this.H - 200, w: 100, h: 100 },\n          { x: this.W / 3 + 100, y: this.H - 300, w: 100, h: 100 },\n          { x: this.W / 3 + 200, y: this.H - 300, w: 100, h: 100 },\n          { x: this.W / 3 + 300, y: this.H - 300, w: 100, h: 100 },\n          { x: this.W / 3 + 100, y: this.H - 200, w: 100, h: 100 },\n          { x: this.W / 3 + 100, y: this.H - 100, w: 100, h: 100 }\n        ];\n        break;\n      case \"summer\":\n        this.ghosts = [\n          { x: 300, y: this.H - 300, w: 100, h: 100 },\n          { x: 300, y: this.H - 200, w: 100, h: 100 },\n          { x: 300, y: this.H - 100, w: 100, h: 100 }\n        ];\n        break;\n      case \"fall\":\n        this.ghosts = [];\n        break;\n    }\n  }\n\n  draw() {\n    if (this.season === \"fall\") {\n      this.ctx.beginPath();\n      this.ctx.moveTo(400, 200);\n      this.ctx.lineTo(600, 300);\n      this.ctx.lineTo(400, 400);\n      this.ctx.lineWidth = 15;\n      this.ctx.strokeStyle = \"rgba(230, 0, 0, .004)\";\n      this.ctx.stroke();\n      return;\n    }\n    this.ghosts.forEach(ghost => {\n      this.ctx.beginPath();\n      this.ctx.rect(ghost.x, (ghost.y -= 0.01), ghost.w, ghost.h);\n      this.ctx.fillStyle = \"rgba(230, 0, 0, .004)\";\n      this.ctx.fill();\n    });\n  }\n}\n","export default class Orb {\n  constructor(ctx, pos, color) {\n    this.posX = pos[0];\n    this.posY = pos[1];\n    this.ctx = ctx;\n    this.color = color;\n    this.radius = 30;\n  }\n\n  draw() {\n    this.ctx.save();\n    this.ctx.beginPath();\n    this.ctx.arc(this.posX, this.posY, this.radius, 0, Math.PI * 2);\n    let gradient = this.ctx.createRadialGradient(\n      this.posX,\n      this.posY,\n      5,\n      this.posX,\n      this.posY,\n      30\n    );\n    gradient.addColorStop(0, \"white\");\n    gradient.addColorStop(1, this.color);\n    this.ctx.shadowBlur = 30;\n    this.ctx.shadowColor = \"white\";\n    this.ctx.fillStyle = gradient;\n    this.ctx.fill();\n    this.ctx.restore();\n  }\n}\n","import Orb from \"./orb\";\n\nexport default class Winter {\n  constructor(ctx, W, H) {\n    this.mp = 500;\n    this.particles = new Array(this.mp);\n    for (let i = 0; i < this.mp; i++) {\n      this.particles[i] = {\n        x: Math.random() * W,\n        y: Math.random() * H,\n        r: Math.random() * 3 + 1,\n        d: Math.random() * this.mp\n      };\n    }\n\n    this.ctx = ctx;\n    this.W = W;\n    this.H = H;\n    this.angle = 0;\n\n    document.getElementById(\"canvases\").style.background = \"#6b92b9\";\n    this.orb = new Orb(this.ctx, [this.W / 1.3, this.H / 3], \"pink\");\n\n    this.draw = this.draw.bind(this);\n  }\n\n  draw() {\n    // this.ctx.clearRect(0, 0, this.W, this.H + 4);\n    this.ctx.fillStyle = \"rgba(255, 255, 255, 0.8)\";\n    this.ctx.beginPath();\n    let particle;\n    for (let i = 0; i < this.mp; i++) {\n      particle = this.particles[i];\n      this.ctx.moveTo(particle.x, particle.y);\n      this.ctx.arc(particle.x, particle.y, particle.r, 0, Math.PI * 2, true);\n    }\n    this.ctx.fill();\n    this.orb.draw();\n    this.update();\n  }\n\n  update() {\n    this.angle += 0.005;\n    let particle;\n    for (let i = 0; i < this.mp; i++) {\n      particle = this.particles[i];\n\n      particle.y += Math.cos(this.angle + particle.d) + 1 + particle.r / 2;\n      particle.x += Math.sin(this.angle) * 2;\n\n      if (particle.x > this.W + 5 || particle.x < -5 || particle.y > this.H) {\n        if (i % 10 > 0) {\n          this.particles[i] = {\n            x: Math.random() * this.W,\n            y: -10,\n            r: particle.r,\n            d: particle.d\n          };\n        } else {\n          if (Math.sin(this.angle) > 0) {\n            //Enter from the left\n            this.particles[i] = {\n              x: -5,\n              y: Math.random() * this.H,\n              r: particle.r,\n              d: particle.d\n            };\n          } else {\n            //Enter from the right\n            this.particles[i] = {\n              x: this.W + 5,\n              y: Math.random() * this.H,\n              r: particle.r,\n              d: particle.d\n            };\n          }\n        }\n      }\n    }\n  }\n}\n","import Orb from \"./orb\";\n\nexport default class Spring {\n  constructor(ctx, W, H) {\n    this.ctx = ctx;\n\n    this.colors = [\n      \"#80ff80\",\n      \"#ff80d5\",\n      \"#ff8533\",\n      \"#ffff4d\",\n      \"#84e1e1\",\n      \"#ff99bb\",\n      \"#ff531a\",\n      \"#4d4dff\"\n    ];\n\n    document.getElementById(\"canvases\").style.background = \"#eeccff\";\n\n    this.W = W;\n    this.H = H;\n\n    this.orb = new Orb(this.ctx, [100, 300], \"yellow\");\n\n    this.centers = [];\n    this.stems = [];\n    this.petals = [];\n    this.makeFlowers(20);\n\n    this.centersInc = new Array(this.centers.length);\n    for (let i = 0; i < this.centers.length; i++) {\n      this.centersInc[i] = this.centers[i];\n      this.centersInc[i].radius = 0;\n    }\n\n    this.petalsInc = new Array(this.petals.length);\n\n    for (let i = 0; i < this.petals.length; i++) {\n      this.petalsInc[i] = {};\n      this.petalsInc[i].start = this.petals[i].start.slice();\n      this.petalsInc[i].point1 = this.petals[i].start.slice();\n      this.petalsInc[i].point2 = this.petals[i].start.slice();\n      this.petalsInc[i].point3 = this.petals[i].start.slice();\n    }\n\n    this.stemsInc = new Array(this.stems.length);\n\n    for (let i = 0; i < this.stems.length; i++) {\n      this.stemsInc[i] = {};\n      this.stemsInc[i].x = this.stems[i].x;\n      this.stemsInc[i].y = this.stems[i].y;\n      this.stemsInc[i].width = this.stems[i].width;\n      this.stemsInc[i].height = 0;\n    }\n\n    this.draw = this.draw.bind(this);\n    this.done = false;\n  }\n\n  randomColor() {\n    return this.colors[Math.floor(Math.random() * this.colors.length)];\n  }\n\n  makeFlowers(num) {\n    let center, stem, petal1, petal2, petal3, petal4;\n    for (let i = 0; i < num; i++) {\n      center = {\n        x: Math.floor(Math.random() * (this.W - 200)) + 100,\n        y: Math.floor(Math.random() * 200) + (this.H - 300),\n        maxRadius: Math.floor(Math.random() * 10) + 5,\n        color: this.randomColor()\n      };\n\n      stem = {\n        x: center.x - center.maxRadius / 10,\n        y: center.y + center.maxRadius / 2,\n        width: center.maxRadius / 5,\n        maxHeight: this.H - center.y\n      };\n\n      petal1 = {\n        start: [center.x + center.maxRadius, center.y],\n        maxPoint1: [\n          center.x + 5 * center.maxRadius,\n          center.y + 5 * center.maxRadius\n        ],\n        maxPoint2: [center.x + 5 * center.maxRadius, center.y],\n        maxPoint3: [\n          center.x + 5 * center.maxRadius,\n          center.y - 5 * center.maxRadius\n        ]\n      };\n\n      petal2 = {\n        start: [center.x, center.y + center.maxRadius],\n        maxPoint1: [\n          center.x - 5 * center.maxRadius,\n          center.y + 5 * center.maxRadius\n        ],\n        maxPoint2: [center.x, center.y + 5 * center.maxRadius],\n        maxPoint3: [\n          center.x + 5 * center.maxRadius,\n          center.y + 5 * center.maxRadius\n        ]\n      };\n\n      petal3 = {\n        start: [center.x - center.maxRadius, center.y],\n        maxPoint1: [\n          center.x - 5 * center.maxRadius,\n          center.y + 5 * center.maxRadius\n        ],\n        maxPoint2: [center.x - 5 * center.maxRadius, center.y],\n        maxPoint3: [\n          center.x - 5 * center.maxRadius,\n          center.y - 5 * center.maxRadius\n        ]\n      };\n\n      petal4 = {\n        start: [center.x, center.y - center.maxRadius],\n        maxPoint1: [\n          center.x - 5 * center.maxRadius,\n          center.y - 5 * center.maxRadius\n        ],\n        maxPoint2: [center.x, center.y - 5 * center.maxRadius],\n        maxPoint3: [\n          center.x + 5 * center.maxRadius,\n          center.y - 5 * center.maxRadius\n        ]\n      };\n\n      this.centers.push(center);\n      this.stems.push(stem);\n      this.petals.push(petal1, petal2, petal3, petal4);\n    }\n  }\n\n  drawStems() {\n    this.ctx.save();\n    this.ctx.fillStyle = \"green\";\n    const stems = this.stems;\n    const stemsInc = this.stemsInc;\n    let stem;\n    for (let i = 0; i < stemsInc.length; i++) {\n      stem = stemsInc[i];\n\n      this.ctx.beginPath();\n      this.ctx.fillRect(stem.x, stem.y, stem.width, stem.height);\n      this.ctx.closePath();\n\n      if (Math.round(stem.height) !== stems[i].maxHeight) {\n        stem.height += (stems[i].maxHeight - stem.height) / 10;\n      }\n    }\n    this.ctx.restore();\n  }\n\n  makePetal(petal) {\n    const ctx = this.ctx;\n    ctx.save();\n    ctx.beginPath();\n    ctx.moveTo(petal.start[0], petal.start[1]);\n    ctx.quadraticCurveTo(\n      petal.point1[0],\n      petal.point1[1],\n      petal.point2[0],\n      petal.point2[1]\n    );\n    ctx.quadraticCurveTo(\n      petal.point3[0],\n      petal.point3[1],\n      petal.start[0],\n      petal.start[1]\n    );\n    ctx.closePath();\n    ctx.fillStyle = petal.color;\n    ctx.fill();\n    ctx.restore();\n  }\n\n  drawPetals() {\n    this.ctx.save();\n    this.ctx.beginPath();\n    const petals = this.petals;\n    const petalsInc = this.petalsInc;\n    let petalInc;\n    let petal;\n    for (let i = 0; i < petalsInc.length; i++) {\n      petalInc = petalsInc[i];\n      petal = petals[i];\n\n      this.makePetal(petalInc);\n      if (Math.round(petalInc.point1[0]) !== petals[i].maxPoint1[0]) {\n        this.done = true;\n        petalInc.color = this.randomColor();\n        petalInc.point1[0] += (petal.maxPoint1[0] - petal.start[0]) / 100;\n        petalInc.point1[1] += (petal.maxPoint1[1] - petal.start[1]) / 100;\n        petalInc.point2[0] += (petal.maxPoint2[0] - petal.start[0]) / 100;\n        petalInc.point2[1] += (petal.maxPoint2[1] - petal.start[1]) / 100;\n        petalInc.point3[0] += (petal.maxPoint3[0] - petal.start[0]) / 100;\n        petalInc.point3[1] += (petal.maxPoint3[1] - petal.start[1]) / 100;\n      }\n    }\n  }\n\n  makeCenter(x, y, radius, color) {\n    // console.log(radius);\n    const ctx = this.ctx;\n    ctx.save();\n    ctx.beginPath();\n    ctx.arc(x, y, radius, 0, Math.PI * 2, false);\n    ctx.closePath();\n    ctx.fillStyle = color;\n    ctx.fill();\n    ctx.restore();\n  }\n\n  drawCenters() {\n    const centers = this.centers.slice();\n    const centersInc = this.centersInc.slice();\n\n    let center;\n    let centerInc;\n    for (let i = 0; i < centersInc.length; i++) {\n      center = centers[i];\n      centerInc = centersInc[i];\n      this.makeCenter(\n        centerInc.x,\n        centerInc.y,\n        centerInc.radius,\n        centerInc.color\n      );\n      if (Math.round(centerInc.radius) <= center.maxRadius) {\n        centerInc.radius += (center.maxRadius - centerInc.radius) / 10;\n      }\n    }\n  }\n\n  draw() {\n    // console.log(this.done);\n    this.drawStems();\n    this.drawCenters();\n    this.drawPetals();\n    this.orb.draw();\n  }\n}\n","import Orb from \"./orb\";\n\nexport default class Summer {\n  constructor(ctx, W, H, stickman) {\n    this.ctx = ctx;\n    this.W = W;\n    this.H = H;\n    this.stickman = stickman;\n\n    document.getElementById(\"canvases\").style.background = \"#ff8566\";\n\n    this.orb = new Orb(this.ctx, [this.W / 2, 300], \"brown\");\n\n    this.maxSuns = 5;\n    this.suns = new Array(this.maxSuns);\n\n    for (let i = 0; i < this.maxSuns; i++) {\n      this.suns[i] = {\n        x: (i + 1) * this.W / (this.maxSuns + 1),\n        y: 100 + 100 * (i % 2)\n      };\n    }\n\n    this.smoke = new Image();\n    this.smoke.src = \"./smoke.png\";\n\n    this.smokes = [];\n    this.smoking = true;\n  }\n\n  drawSuns() {\n    // console.log(this.suns);\n    this.suns.forEach(sun => {\n      this.ctx.save();\n      this.ctx.beginPath();\n      this.ctx.arc(sun.x, sun.y, 50, 0, Math.PI * 2);\n      let gradient = this.ctx.createRadialGradient(\n        sun.x,\n        sun.y,\n        5,\n        sun.x,\n        sun.y,\n        50\n      );\n      gradient.addColorStop(0, \"orange\");\n      gradient.addColorStop(1, \"yellow\");\n      this.ctx.shadowBlur = 100;\n      this.ctx.shadowColor = \"yellow\";\n      this.ctx.fillStyle = gradient;\n      this.ctx.fill();\n      this.ctx.restore();\n    });\n  }\n\n  drawSmoke() {\n    if (this.smoking) {\n      this.smokes.push({\n        x: this.stickman.posX + 22,\n        y: this.stickman.posY - 36,\n        times: 0\n      });\n      this.smoking = false;\n    } else {\n      this.smoking = true;\n    }\n    this.smokes.forEach(smoke => {\n      if (smoke.times <= 5) {\n        this.ctx.filter = `opacity(${1 / (smoke.times + 1)})`;\n        this.ctx.drawImage(\n          this.smoke,\n          650,\n          450,\n          200,\n          450,\n          smoke.x,\n          smoke.y,\n          20,\n          36\n        );\n        this.ctx.filter = \"none\";\n      } else {\n        this.smokes.shift();\n      }\n\n      smoke.y -= 10;\n      if (this.smoking) smoke.times++;\n    });\n  }\n\n  draw() {\n    this.drawSuns();\n    this.drawSmoke();\n    this.orb.draw();\n  }\n}\n","import Orb from \"./orb\";\n\nexport default class Fall {\n  constructor(ctx, W, H, stickman) {\n    this.ctx = ctx;\n    this.W = W;\n    this.H = H;\n    this.stickman = stickman;\n\n    document.getElementById(\"canvases\").style.background = \"#6b6b47\";\n\n    this.maxDrops = 500;\n    this.drops = new Array(this.maxDrops);\n\n    for (let i = 0; i < this.maxDrops; i++) {\n      this.drops[i] = {\n        x: Math.random() * this.W,\n        y: Math.random() * this.H,\n        length: Math.random(),\n        driftX: Math.random() * 4 - 2,\n        driftY: Math.random() * 10 + 10\n      };\n    }\n\n    this.flees = 0;\n    this.stickman.wraps = 0;\n  }\n\n  drawRain() {\n    this.ctx.save();\n    this.ctx.strokeStyle = \"rgba(174,194,224,0.7)\";\n    this.ctx.lineWidth = 1;\n    this.ctx.lineCap = \"round\";\n    let drop;\n    for (let i = 0; i < this.maxDrops; i++) {\n      drop = this.drops[i];\n      this.ctx.beginPath();\n      this.ctx.moveTo(drop.x, drop.y);\n      this.ctx.lineTo(\n        drop.x + drop.length * drop.driftX,\n        drop.y + drop.length * drop.driftY\n      );\n      this.ctx.stroke();\n      this.ctx.closePath();\n    }\n\n    this.update();\n  }\n\n  update() {\n    let drop;\n    for (let i = 0; i < this.maxDrops; i++) {\n      drop = this.drops[i];\n      drop.x += drop.driftX;\n      drop.y += drop.driftY;\n\n      if (drop.x > this.W || drop.y > this.H) {\n        drop.x = Math.random() * this.W;\n        drop.y = -30;\n      }\n    }\n  }\n\n  draw() {\n    this.drawRain();\n    if (this.stickman.wraps > 0) {\n      this.orb =\n        this.orb ||\n        new Orb(this.ctx, [this.W - 100, this.H - 150], \"lightblue\");\n      this.orb.draw();\n\n      if (this.stickman.posX > 700 && this.flees === 0) {\n        this.orb.posX = 200;\n        this.flees++;\n      } else if (this.stickman.posX < 400 && this.flees === 1) {\n        this.orb.posX = this.W / 2 - 20;\n      }\n    }\n  }\n}\n","import Screenshot from \"./screenshot\";\nimport Stickman from \"./stickman\";\nimport Ghosts from \"./ghosts\";\nimport Game from \"./game\";\n\ndocument.addEventListener(\"DOMContentLoaded\", () => {\n  const canvasEl = document.getElementById(\"game-canvas\");\n  const ctx = canvasEl.getContext(\"2d\");\n  let W = 1000;\n  let H = W / 2;\n  canvasEl.width = W;\n  canvasEl.height = H;\n\n  const game = new Game(ctx, W, H);\n  const screenshot = new Screenshot(\n    game.level,\n    game.stickman,\n    game.ghosts,\n    W,\n    H\n  );\n  screenshot.bindEvents();\n\n  const muter = document.getElementById(\"mute\");\n  const unmuter = document.getElementById(\"unmute\");\n  const audio = document.getElementById(\"audio\");\n  audio.volume = 0.2;\n  muter.addEventListener(\"click\", () => {\n    audio.muted = true;\n    muter.style.display = \"none\";\n    unmuter.style.display = \"block\";\n  });\n\n  unmuter.addEventListener(\"click\", () => {\n    audio.muted = false;\n    muter.style.display = \"block\";\n    unmuter.style.display = \"none\";\n  });\n\n  const instructions = document.getElementById(\"instructions\");\n  const closer = document.getElementById(\"close-x\");\n  const question = document.getElementById(\"question\");\n\n  closer.addEventListener(\"click\", () => {\n    instructions.style.display = \"none\";\n    question.style.display = \"block\";\n  });\n\n  closer.addEventListener(\n    \"click\",\n    () => {\n      requestAnimationFrame(run);\n    },\n    { once: true }\n  );\n  question.addEventListener(\"click\", () => {\n    instructions.style.display = \"block\";\n    question.style.display = \"none\";\n  });\n\n  function run() {\n    game.run();\n    requestAnimationFrame(run);\n  }\n});\n","import Winter from \"./winter\";\nimport Spring from \"./spring\";\nimport Summer from \"./summer\";\nimport Fall from \"./fall\";\nimport Stickman from \"./stickman\";\nimport Ghosts from \"./ghosts\";\n\nexport default class Game {\n  constructor(ctx, W, H) {\n    this.ctx = ctx;\n    this.W = W;\n    this.H = H - 84;\n\n    this.height = this.H;\n\n    this.levels = [\"winter\", \"spring\", \"summer\", \"fall\"];\n\n    this.levelType = \"winter\";\n    this.stickman = new Stickman(this.ctx, this.W, this.H - 2);\n    this.ghosts = new Ghosts(this.ctx, this.W, this.H - 6, this.levelType);\n    this.level = new Winter(this.ctx, this.W, this.H, this.levelType);\n    // this.level = new Spring(this.ctx, this.W, this.H);\n    // this.level = new Summer(this.ctx, this.W, this.H, this.stickman);\n    // this.level = new Fall(this.ctx, this.W, this.H, this.stickman);\n\n    this.ground = new Image();\n    this.ground.src = \"./blocks.png\";\n    this.ground.onload = () => {\n      this.drawGround();\n    };\n  }\n\n  run() {\n    this.ctx.clearRect(\n      0,\n      0,\n      this.W,\n      (this.height = this.levelType === \"winter\" ? this.height - 0.01 : this.H)\n    );\n    this.level.draw();\n    if (this.ghosts && this.ghosts.ghosts) {\n      this.ghosts.draw();\n    }\n    this.stickman.draw(this.height);\n    this.isStickmanColliding();\n    if (this.isTouchingOrb()) {\n      this.drawGround();\n      this.levelType = this.levels[\n        (this.levels.indexOf(this.levelType) + 1) % this.levels.length\n      ];\n      switch (this.levelType) {\n        case \"winter\":\n          this.level = new Winter(this.ctx, this.W, this.H, this.levelType);\n          break;\n        case \"spring\":\n          this.level = new Spring(this.ctx, this.W, this.H);\n          break;\n        case \"summer\":\n          this.level = new Summer(this.ctx, this.W, this.H, this.stickman);\n          this.ghosts = false;\n          break;\n        case \"fall\":\n          this.level = new Fall(this.ctx, this.W, this.H, this.stickman);\n          break;\n      }\n      this.ghosts = new Ghosts(this.ctx, this.W, this.H - 6, this.levelType);\n      this.orb = this.level.orb;\n    }\n  }\n\n  drawGround() {\n    this.ctx.clearRect(0, 0, this.W, this.H);\n    for (let i = 0; i < this.W; i += 100) {\n      this.ctx.drawImage(this.ground, i, this.H - 6, 100, 100);\n    }\n  }\n\n  isStickmanColliding() {\n    let overlapY, overlapX;\n    this.stickman.hit = false;\n    if (!this.ghosts || !this.ghosts.ghosts) return false;\n    this.ghosts.ghosts.some(ghost => {\n      [overlapX, overlapY] = [false, false];\n      if (\n        this.stickman.posX >= ghost.x &&\n        this.stickman.posX <= ghost.x + ghost.w\n      ) {\n        [this.stickman.leftHit, overlapX] = [true, true];\n        // console.log(\"left!\");\n      }\n      if (\n        this.stickman.posX + this.stickman.width >= ghost.x &&\n        this.stickman.posX + this.stickman.width <= ghost.x + ghost.w\n      ) {\n        [this.stickman.rightHit, overlapX] = [true, true];\n      }\n      if (\n        this.stickman.posY >= ghost.y &&\n        this.stickman.posY <= ghost.y + ghost.h\n      ) {\n        [this.stickman.topHit, overlapY] = [true, true];\n        // console.log(\"top!\");\n      }\n      if (\n        this.stickman.posY + this.stickman.height >= ghost.y &&\n        this.stickman.posY + this.stickman.height <= ghost.y + ghost.h\n      ) {\n        [this.stickman.bottomHit, overlapY] = [true, true];\n      }\n      if (overlapX && overlapY) {\n        this.stickman.hit = true;\n        return true;\n      }\n    });\n\n    return this.stickman.hit;\n  }\n\n  isTouchingOrb() {\n    if (!this.level.orb) {\n      return false;\n    }\n    const orb = this.level.orb;\n    const stickman = this.stickman;\n\n    const centersDistance = Math.sqrt(\n      Math.pow(orb.posX - stickman.posX, 2) +\n        Math.pow(orb.posY - stickman.posY, 2)\n    );\n\n    return centersDistance < orb.radius + (stickman.width - 30) / 2;\n  }\n}\n","import mergePixels from \"./mergePixels\";\n\nexport default class Screenshot {\n  constructor(weather, stickman, ghosts, W, H) {\n    this.weather = weather;\n    this.stickman = stickman;\n    this.ghosts = ghosts;\n    this.W = W;\n    this.H = H;\n\n    this.bindEvents = this.bindEvents.bind(this);\n  }\n\n  bindEvents() {\n    document.addEventListener(\"keypress\", e => {\n      if (e.keyCode !== 32) return;\n      const data = this.weather.ctx.getImageData(0, 0, this.W, this.H).data;\n      // const stickData = this.stickman.ctx.getImageData(0, 0, this.W, this.H)\n      //   .data;\n      // const ghostsData = this.ghosts.ctx.getImageData(0, 0, this.W, this.H)\n      //   .data;\n\n      // console.log(ghostsData);\n      // for (let i = 0; i < ghostsData.length; i++) {\n      //   if (ghostsData[i] !== 0) {\n      //     console.log(ghostsData[i]);\n      //   }\n      // }\n      // console.log(ghostsData);\n      // const data = mergePixels(stickData, weatherData, ghostsData);\n\n      for (let i = 0; i < data.length; i += 4) {\n        if (\n          data[i] === 0 &&\n          data[i + 1] === 0 &&\n          data[i + 2] === 0 &&\n          data[i + 3] === 0\n        ) {\n          data[i] = 255 - data[i];\n          data[i + 1] = 255 - data[i + 1];\n          data[i + 2] = 255 - data[i + 2];\n          data[i + 3] = 255;\n        } else if (data[i] === 255 && data[i + 3] === 3) {\n          data[i + 3] = 255;\n        } else {\n          data[i] = 255 - data[i];\n          data[i + 1] = 255 - data[i + 1];\n          data[i + 2] = 255 - data[i + 2];\n        }\n      }\n\n      const screenshotCanvas = document.getElementById(\"screenshot-canvas\");\n      screenshotCanvas.width = this.W;\n      screenshotCanvas.height = this.H;\n      const screenshotCtx = screenshotCanvas.getContext(\"2d\");\n\n      const newImage = screenshotCtx.createImageData(this.W, this.H);\n      for (let i = 0; i < newImage.data.length; i++) {\n        newImage.data[i] = data[i];\n      }\n\n      screenshotCtx.putImageData(newImage, 0, 0);\n      setTimeout(() => {\n        screenshotCtx.clearRect(0, 0, this.W, this.H);\n      }, 2000);\n    });\n  }\n}\n"],"sourceRoot":""}