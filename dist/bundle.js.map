{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./lib/seasonal.js","webpack:///./lib/snowfall.js","webpack:///./lib/stickman.js","webpack:///./lib/ghosts.js","webpack:///./lib/screenshot.js","webpack:///./lib/game.js"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","configurable","enumerable","get","r","value","n","__esModule","object","property","prototype","hasOwnProperty","p","s","document","addEventListener","canvasEl","getElementById","ctx","getContext","W","window","innerWidth","H","innerHeight","width","height","ground","Image","src","onload","drawImage","snowfall","constructor","this","mp","particles","Array","x","Math","random","y","angle","draw","bind","particle","fillStyle","beginPath","moveTo","arc","PI","fill","update","cos","sin","stickman","posX","posY","hit","rightHit","leftHit","topHit","bottomHit","player","runOffset","runOffset2","jumpOffset","jumpOffset2","startedJumping","keys","left","right","up","down","jumps","bindMovements","event","key","clearRect","spriteOffset","parseCollisions","checkJump","indexOf","checkWalk","ghosts","season","createGhosts","w","h","forEach","ghost","rect","lineWidth","strokeStyle","stroke","weather","bindEvents","e","keyCode","data","getImageData","length","screenshotCanvas","screenshotCtx","newImage","createImageData","putImageData","setTimeout","game","isStickmanColliding","overlapY","overlapX","some","requestAnimationFrame","run"],"mappings":"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","file":"bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n","import Snowfall from \"./snowfall\";\nimport Screenshot from \"./screenshot\";\nimport Stickman from \"./stickman\";\nimport Ghosts from \"./ghosts\";\nimport Game from \"./game\";\n\ndocument.addEventListener(\"DOMContentLoaded\", () => {\n  const canvasEl = document.getElementById(\"game-canvas\");\n  const ctx = canvasEl.getContext(\"2d\");\n  let W = window.innerWidth;\n  let H = window.innerHeight;\n  canvasEl.width = W;\n  canvasEl.height = H;\n\n  const ground = new Image();\n  ground.src = \"./blocks.png\";\n  ground.onload = () => {\n    for (let i = 0; i < W; i += 100) {\n      ctx.drawImage(ground, i, H - 90, 100, 100);\n    }\n  };\n\n  const snowfall = new Snowfall(ctx, W, H - 84);\n  const stickman = new Stickman(ctx, W, H - 86);\n  stickman.bindMovements();\n  const ghosts = new Ghosts(ctx, W, H - 90);\n  ghosts.createGhosts();\n  const screenshot = new Screenshot(snowfall, stickman, ghosts, W, H);\n  screenshot.bindEvents();\n\n  const game = new Game(stickman, ghosts);\n\n  function run() {\n    stickman.draw();\n    snowfall.draw();\n    ghosts.draw();\n    game.isStickmanColliding();\n    requestAnimationFrame(run);\n  }\n\n  requestAnimationFrame(run);\n});\n","export default class Snowfall {\n  constructor(ctx, W, H) {\n    this.mp = 500;\n    this.particles = new Array(this.mp);\n    for (let i = 0; i < this.mp; i++) {\n      this.particles[i] = {\n        x: Math.random() * W,\n        y: Math.random() * H,\n        r: Math.random() * 3 + 1,\n        d: Math.random() * this.mp\n      };\n    }\n\n    this.ctx = ctx;\n    this.W = W;\n    this.H = H;\n    this.angle = 0;\n\n    this.draw = this.draw.bind(this);\n  }\n\n  draw() {\n    // this.ctx.clearRect(0, 0, this.W, this.H + 4);\n    this.ctx.fillStyle = \"rgba(255, 255, 255, 0.8)\";\n    this.ctx.beginPath();\n    let particle;\n    for (let i = 0; i < this.mp; i++) {\n      particle = this.particles[i];\n      this.ctx.moveTo(particle.x, particle.y);\n      this.ctx.arc(particle.x, particle.y, particle.r, 0, Math.PI * 2, true);\n    }\n    this.ctx.fill();\n    this.update();\n  }\n\n  update() {\n    this.angle += 0.005;\n    let particle;\n    for (let i = 0; i < this.mp; i++) {\n      particle = this.particles[i];\n\n      particle.y += Math.cos(this.angle + particle.d) + 1 + particle.r / 2;\n      particle.x += Math.sin(this.angle) * 2;\n\n      if (particle.x > this.W + 5 || particle.x < -5 || particle.y > this.H) {\n        if (i % 10 > 0) {\n          this.particles[i] = {\n            x: Math.random() * this.W,\n            y: -10,\n            r: particle.r,\n            d: particle.d\n          };\n        } else {\n          if (Math.sin(this.angle) > 0) {\n            //Enter from the left\n            this.particles[i] = {\n              x: -5,\n              y: Math.random() * this.H,\n              r: particle.r,\n              d: particle.d\n            };\n          } else {\n            //Enter from the right\n            this.particles[i] = {\n              x: this.W + 5,\n              y: Math.random() * this.H,\n              r: particle.r,\n              d: particle.d\n            };\n          }\n        }\n      }\n    }\n  }\n}\n","export default class Stickman {\n  constructor(ctx, W, H) {\n    this.ctx = ctx;\n    this.W = W;\n    this.H = H;\n\n    this.width = 64;\n    this.height = 64;\n    this.posX = W / 2;\n    this.posY = H - 64;\n    this.hit = false;\n    this.rightHit = false;\n    this.leftHit = false;\n    this.topHit = false;\n    this.bottomHit = false;\n\n    this.player = new Image();\n    this.player.src = \"./playerRunRight.png\";\n\n    this.runOffset = 0;\n    this.runOffset2 = 0;\n\n    this.jumpOffset = 0;\n    this.jumpOffset2 = 0;\n    this.startedJumping = false;\n\n    this.draw = this.draw.bind(this);\n    this.keys = { left: false, right: false, up: false, down: false };\n\n    this.jumps = 0;\n  }\n\n  bindMovements() {\n    document.addEventListener(\"keydown\", event => {\n      switch (event.key) {\n        case \"ArrowUp\":\n          this.keys.up = true;\n          break;\n        case \"ArrowLeft\":\n          this.keys.left = true;\n          break;\n        case \"ArrowRight\":\n          this.keys.right = true;\n          break;\n        case \"ArrowDown\":\n          this.keys.down = true;\n          break;\n        default:\n          break;\n      }\n    });\n\n    document.addEventListener(\"keyup\", event => {\n      switch (event.key) {\n        case \"ArrowUp\":\n          this.keys.up = false;\n          break;\n        case \"ArrowLeft\":\n          this.keys.left = false;\n          break;\n        case \"ArrowRight\":\n          this.keys.right = false;\n          break;\n        case \"ArrowDown\":\n          this.keys.down = false;\n          break;\n        default:\n          break;\n      }\n    });\n  }\n\n  draw() {\n    this.ctx.clearRect(0, 0, this.W, (this.H = this.H - 0.01));\n    this.update();\n\n    let spriteOffset = this.keys.up ? this.jumpOffset2 : this.runOffset2;\n    if (this.posY > this.H - 64) this.posY = this.H - 64;\n    if (this.posY < this.H - 64 && !this.bottomHit) this.posY += 10;\n    this.ctx.drawImage(\n      this.player,\n      spriteOffset,\n      0,\n      64,\n      64,\n      this.posX,\n      this.posY,\n      this.width,\n      this.height\n    );\n  }\n\n  parseCollisions() {\n    // console.log(this.hit);\n    if (!this.hit) {\n      this.rightHit = false;\n      this.leftHit = false;\n      this.topHit = false;\n      this.bottomHit = false;\n    } else {\n      if (this.bottomHit) {\n        this.rightHit = false;\n        this.leftHit = false;\n      }\n      if (this.rightHit) this.posX -= 2;\n      if (this.leftHit) this.posX += 2;\n      if (this.topHit) this.posY += 10;\n    }\n  }\n\n  checkJump() {\n    if (this.keys.up && !this.topHit) {\n      if (this.jumps % 5 === 0) {\n        if (!this.startedJumping) this.jumpOffset = 0;\n        this.jumpOffset += 64;\n        this.jumpOffset = this.jumpOffset % 704;\n        if (this.keys.left || this.player.src.indexOf(\"Left\") > -1)\n          this.player.src = \"./jumpLeft.png\";\n        if (this.keys.right || this.player.src.indexOf(\"Right\") > -1)\n          this.player.src = \"./jumpRight.png\";\n        this.startedJumping = true;\n      }\n      if (this.jumpOffset >= 256 && this.jumpOffset < 384) {\n        this.posY -= 30;\n      } else if (\n        this.jumpOffset >= 384 &&\n        this.jumpOffset < 512 &&\n        !this.bottomHit\n      ) {\n        this.posY += 10;\n      } else if (this.jumpOffset === 640) {\n        this.startedJumping = false;\n      }\n\n      if (this.player.src.indexOf(\"Right\") > -1) {\n        this.jumpOffset2 = 640 - this.jumpOffset;\n      } else {\n        this.jumpOffset2 = this.jumpOffset;\n      }\n\n      this.jumps++;\n    } else {\n      if (this.posY < this.H - 64 && !this.bottomHit) this.posY += 30;\n      this.startedJumping = false;\n      this.jumpOffset = 64;\n      this.jumpOffset2 = 64;\n    }\n  }\n\n  checkWalk() {\n    if (this.keys.left && !this.leftHit) {\n      this.posX -= 10;\n      if (!this.keys.up) {\n        this.runOffset += 64;\n        this.runOffset2 = this.runOffset % 320;\n        this.player.src = \"./playerRunLeft.png\";\n      } else if (this.jumpOffset < 256) {\n        this.posX += 10;\n      }\n    }\n\n    if (this.keys.right && !this.rightHit) {\n      this.posX += 10;\n      if (!this.keys.up) {\n        this.runOffset += 64;\n        this.runOffset2 = this.runOffset % 320;\n        this.runOffset2 = 256 - this.runOffset2;\n\n        this.player.src = \"./playerRunRight.png\";\n      } else if (this.jumpOffset < 256) {\n        this.posX -= 10;\n      }\n    }\n  }\n\n  update() {\n    this.parseCollisions();\n    this.checkJump();\n    this.checkWalk();\n  }\n}\n","export default class Ghosts {\n  constructor(ctx, W, H, season) {\n    this.ctx = ctx;\n\n    this.W = W;\n    this.H = H;\n\n    this.season = season || \"winter\";\n  }\n\n  createGhosts() {\n    switch (this.season) {\n      case \"winter\":\n        this.ghosts = [\n          { x: this.W / 3, y: this.H - 100, w: 100, h: 100 },\n          { x: this.W / 3 - 100, y: this.H - 200, w: 100, h: 100 },\n          { x: this.W / 3 + 100, y: this.H - 300, w: 100, h: 100 }\n        ];\n    }\n  }\n\n  draw() {\n    this.ghosts.forEach(ghost => {\n      this.ctx.beginPath();\n      this.ctx.rect(ghost.x, ghost.y, ghost.w, (ghost.h -= 0.01));\n      this.ctx.lineWidth = \"4\";\n      this.ctx.strokeStyle = \"rgba(230, 0, 0, .01)\";\n      this.ctx.stroke();\n    });\n  }\n}\n","import mergePixels from \"./mergePixels\";\n\nexport default class Screenshot {\n  constructor(weather, stickman, ghosts, W, H) {\n    this.weather = weather;\n    this.stickman = stickman;\n    this.ghosts = ghosts;\n    this.W = W;\n    this.H = H;\n\n    this.bindEvents = this.bindEvents.bind(this);\n  }\n\n  bindEvents() {\n    document.addEventListener(\"keypress\", e => {\n      if (e.keyCode !== 32) return;\n      const data = this.weather.ctx.getImageData(0, 0, this.W, this.H).data;\n      // const stickData = this.stickman.ctx.getImageData(0, 0, this.W, this.H)\n      //   .data;\n      // const ghostsData = this.ghosts.ctx.getImageData(0, 0, this.W, this.H)\n      //   .data;\n\n      // console.log(ghostsData);\n      // for (let i = 0; i < ghostsData.length; i++) {\n      //   if (ghostsData[i] !== 0) {\n      //     console.log(ghostsData[i]);\n      //   }\n      // }\n      // console.log(ghostsData);\n      // const data = mergePixels(stickData, weatherData, ghostsData);\n\n      for (let i = 0; i < data.length; i += 4) {\n        if (\n          data[i] === 0 &&\n          data[i + 1] === 0 &&\n          data[i + 2] === 0 &&\n          data[i + 3] === 0\n        ) {\n          data[i] = 255 - data[i];\n          data[i + 1] = 255 - data[i + 1];\n          data[i + 2] = 255 - data[i + 2];\n          data[i + 3] = 255;\n        } else if (data[i] === 255 && data[i + 3] === 3) {\n          data[i + 3] = 255;\n        } else {\n          data[i] = 255 - data[i];\n          data[i + 1] = 255 - data[i + 1];\n          data[i + 2] = 255 - data[i + 2];\n        }\n      }\n\n      const screenshotCanvas = document.getElementById(\"screenshot-canvas\");\n      screenshotCanvas.width = this.W;\n      screenshotCanvas.height = this.H;\n      const screenshotCtx = screenshotCanvas.getContext(\"2d\");\n\n      const newImage = screenshotCtx.createImageData(this.W, this.H);\n      for (let i = 0; i < newImage.data.length; i++) {\n        newImage.data[i] = data[i];\n      }\n\n      screenshotCtx.putImageData(newImage, 0, 0);\n      setTimeout(() => {\n        screenshotCtx.clearRect(0, 0, this.W, this.H);\n      }, 2000);\n    });\n  }\n}\n","export default class Game {\n  constructor(stickman, ghosts) {\n    this.stickman = stickman;\n    this.ghosts = ghosts;\n  }\n\n  isStickmanColliding() {\n    let overlapY, overlapX;\n    this.stickman.hit = false;\n\n    this.ghosts.ghosts.some(ghost => {\n      [overlapX, overlapY] = [false, false];\n      if (\n        this.stickman.posX >= ghost.x &&\n        this.stickman.posX <= ghost.x + ghost.w\n      ) {\n        [this.stickman.leftHit, overlapX] = [true, true];\n        // console.log(\"left!\");\n      }\n      if (\n        this.stickman.posX + this.stickman.width >= ghost.x &&\n        this.stickman.posX + this.stickman.width <= ghost.x + ghost.w\n      ) {\n        [this.stickman.rightHit, overlapX] = [true, true];\n      }\n      if (\n        this.stickman.posY >= ghost.y &&\n        this.stickman.posY <= ghost.y + ghost.h\n      ) {\n        [this.stickman.topHit, overlapY] = [true, true];\n        // console.log(\"top!\");\n      }\n      if (\n        this.stickman.posY + this.stickman.height >= ghost.y &&\n        this.stickman.posY + this.stickman.height <= ghost.y + ghost.h\n      ) {\n        [this.stickman.bottomHit, overlapY] = [true, true];\n      }\n      if (overlapX && overlapY) {\n        this.stickman.hit = true;\n        return true;\n      }\n    });\n\n    return this.stickman.hit;\n  }\n}\n"],"sourceRoot":""}